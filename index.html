<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  </head>
  <body>
    <div class="game-window">
      <script src="./lib/keymaster.js"></script>
      <script src="./lib/util.js"></script>
      <script src="./lib/game.js"></script>
      <script src="./lib/movingObject.js"></script>
      <script src="./lib/tile.js"></script>
      <script src="./lib/gameView.js"></script>

      <div class="canvas-container">
        <div class="gameover">
          <div class="header">
            Game Over
          </div>
          <div class="body">
            Press spacebar to play again.
          </div>
          <div class="footer">
            Questions? Comments? Complaints?
            <div class="github">
            Github: <a href="https://github.com/fndelacruz/LetterFall">fndelacruz</a>
            </div>
          </div>
        </div>
        <div class="header" id="title">
          LetterFall
        </div>
        <canvas id="game-canvas", height="800", width="800"></canvas>
        <div class="stats">
          <div class="stat"id="bar1">
            get pain relief
          </div>
          <div class="stat" id="bar2">
            type adjacent keys to move
          </div>
          <div class="stat" id="bar3">

          </div>
          <div class="stat" id="bar4">
            get points
          </div>
        </div>
      </div>
      <script>
        var canvasEl = document.getElementById("game-canvas");
        var ctx = canvasEl.getContext("2d");
        var newGame = new LetterFall.Game();
        var startNewGame = function(game) {
          var newGameView = new LetterFall.GameView(game, ctx);
          newGameView.start();
        }
        startNewGame(newGame);
        bar3.textContent = "ex: " + newGame.printNeighbors();
        $(document).keypress(function(e) {
          if (e.keyCode === 32 && newGame.isGameOver) {
            ctx.clearRect(0, 0, 800, 800)
            bar1.textContent = "collect pain relief";
            bar2.textContent = "type adjacent keys to move";
            bar3.textContent = "hello hello";
            bar4.textContent = "collect points";

            $("body").css({
              backgroundColor: "white",
              transition: "all 1s"
            });

            $("#title").css({
              color: "black",
              transition: "all 2s"
            });

            $(".gameover").fadeIn().css({
              visibility: "hidden"
            })

            setTimeout(function() {
              $("body").css({
                transition: "none"
              });

              $("#title").css({
                transition: "none"
              });
              newGame = new LetterFall.Game();
              startNewGame(newGame);
            }, 1000);
          }
        })
      </script>
      <div>

      </div>
    </div>
  </body>
</html>
<link rel="stylesheet" href="css/master.css" charset="utf-8">
